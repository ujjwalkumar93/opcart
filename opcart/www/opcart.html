{% extends "templates/web.html" %}

{% block title %}{{ _('Products') }}{% endblock %}
{% block header %}
<h3>{{ _('Products') }}</h3>
{% endblock header %}

{% block page_content %}



		{% if items %}
		<table id="item_menu" style="width:100%" >
{% include "opcart/public/js/opcart.js" %}
<tr>
			<th>Product Code</th>
			<th>Product Name</th>
			<th>Dealer Price</th>
			<th>MRP</th>
			<th>Available Stock</th>
			<th>Order Qty </th>
			<th>Add To Cart</th>
		</tr>
			{% for item in items %}
			<tr>
		<td>{{ item.item_code }}</td>
		<td>{{ item.item_name }}</td>
	<td>{{ frappe.db.get_value("Item", {'item_code':item.item_code}, "standard_rate") }}</td>
	<td>{{ frappe.db.get_value("Item", {'item_code':item.item_code}, "mrp_rate") }}</td>
	<td>{{ frappe.db.get_value("Stock Ledger Entry", {'item_code':item.item_code} , "qty_after_transaction") }}</td>
	<td> <input type="number" name="quantity" value="1" min="1" max="100" style="width:50%"></td>
	<td class="mybtn"> <button id="btn-add-to-cart" value="Get Selected">Add to cart</button></td>

		</tr>
			{% endfor %}
		</table>

		{% else %}
			{% include "erpnext/www/all-products/not_found.html" %}
		{% endif %}
		<div id="place">
	{% include "opcart/public/js/opcart.js" %}
	<button id="place_btn" style="float: right; margin-top: 25px;margin-right: 25px;background-color:#2E8B57; color:white">Place Order</button></div>
	<a href="/cart"><button id="btn-view-in-cart" style="float: right; margin-top: 25px;margin-right: 25px;background-color:#4B0082; color:white">View in Cart</button></a>
	</div>

<style>
table{
  border: 2px solid black;
  border-collapse: collapse;
}
th,td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 10px;
}
th {
  text-align: left;
  background-color: #05ffb0;
}
#btn-add-to-cart {
	background-color:#008000;
	color:white
}
.mybtn{
	color:green
}
</style>

{% endblock %}
